# =============================================================================
# 消融实验配置: 移除 Working Memory
# =============================================================================
# 实验目的: 验证Working Memory对保持推理线索的重要性
# 预期效果: 记忆折叠后丢失"推理线程"，从头开始探索
# =============================================================================

model:
  main_model:
    name: "qwq-32b"
    api_base: "https://api.openai.com/v1"
    api_key: "YOUR_API_KEY"
    temperature: 0.1
    max_tokens: 4096

  auxiliary_model:
    name: "qwen2.5-32b-instruct"
    api_base: "https://api.openai.com/v1"
    api_key: "YOUR_API_KEY"
    temperature: 0.3
    max_tokens: 2048

  evaluation_model:
    name: "deepseek-v3.2"
    api_base: "https://api.openai.com/v1"
    api_key: "YOUR_API_KEY"
    temperature: 0.0
    max_tokens: 512

tools:
  serper_api_keys:
    - "YOUR_SERPER_API_KEY"
  serper_api_key: null
  jina_api_key: null
  use_jina: false
  file_base_dir: "./data/files"
  download:
    large_file_threshold_mb: 20
    segment_size_mb: 5
    max_retries: 3
  python_executor:
    timeout: 10
    max_concurrency: 8

memory:
  max_context_tokens: 30000
  fold_threshold: 0.75

  episode_memory:
    enabled: true
    max_episodes: 5

  # ============ 消融: 禁用 Working Memory ============
  working_memory:
    enabled: false  # <-- 消融点

  tool_memory:
    enabled: true
    max_entries: 10

  auto_summarize_tool_results:
    enabled: true
    threshold_chars: 10000
    max_summary_tokens: 4000

reasoning:
  max_iterations: 20
  finalization:
    trigger_remaining: 2
    max_attempts: 2
    max_tokens: 1200
  stop_sequences:
    - "</tool_call>"
    - "\\boxed{"
  markers:
    begin_tool_call: "<tool_call>"
    end_tool_call: "</tool_call>"
    begin_tool_result: "<tool_call_result>"
    end_tool_result: "</tool_call_result>"
    begin_think: "<think>"
    end_think: "</think>"
    fold_memory: "<fold_memory>"
    begin_memory_summary: "<memory_summary>"
    end_memory_summary: "</memory_summary>"

evaluation:
  dataset_dir: "./data"
  output_dir: "./outputs"
  save_trajectories: true
  save_memory_states: true

logging:
  level: "INFO"
  log_dir: "./logs"
  save_to_file: true
  console_output: true

ablation:
  name: "no_working_memory"
  description: "Without Working Memory"
